<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guess the word!</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Home Screen -->
        <div id="homeScreen" class="screen active">
            <div class="game-header">
                <h1>üéØ Guess the word! </h1>
                <p class="rules-explanation">
                    Describe as many words to your partner as possible within the time limit, <strong>without saying the words themselves or their direct translations!</strong><br>
                    For example, if you are describing the word <em>'apple'</em>, you cannot say <em>'apple'</em>, <em>'apples'</em>, or <em>'manzana'</em>.
                    If you don't know what the word you are describing means, you can click on the 'Show translation' button to see its translation in the other language.<br><br>
                    There are <strong>8 rounds total</strong> in the game where each of you will be taking turns describing and guessing the words.<br>
                    The first 4 rounds will involve <strong>English words only</strong>, while the rest will involve <strong>only Spanish words</strong>.<br>
                    Try to describe using the current language of the target word, but you are also allowed to use the other language.<br><br>
                    At the end of the game, you will select your native language and then complete an appropriate translation test.<br>
                    <strong>Good luck and have fun!</strong>
                </p>
            </div>
            
            <div class="menu-options">
                <div class="input-group">
                    <input type="text" id="playerName" placeholder="Enter your tandemMOOC username" maxlength="20">
                </div>
                <button id="createRoomBtn" class="btn btn-primary">Create Room</button>
                <button id="joinRoomBtn" class="btn btn-secondary">Join Room</button>
            </div>
            
            <div id="joinRoomForm" class="join-form hidden">
                <div class="input-group">
                    <input type="text" id="roomCode" placeholder="Enter room code" maxlength="6">
                </div>
                <button id="joinRoomSubmitBtn" class="btn btn-primary">Join</button>
                <button id="cancelJoinBtn" class="btn btn-cancel">Cancel</button>
            </div>
        </div>

        <!-- Waiting Room Screen -->
        <div id="waitingScreen" class="screen">
            <div class="game-header">
                <h2>Room: <span id="roomIdDisplay"></span></h2>
                <p>Share this code with your friend!</p>
            </div>
            
            <div class="players-list">
                <h3>Players</h3>
                <div id="playersList"></div>
            </div>
            
            <!-- Difficulty selection removed -->
            
            <div class="waiting-actions">
                <button id="startGameBtn" class="btn btn-primary" disabled>
                    Waiting for 2nd player...
                </button>
                <button id="leaveRoomBtn" class="btn btn-cancel">Leave Room</button>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="gameScreen" class="screen">
            <div class="game-info">
                <div class="round-info">
                    <span>Round <span id="currentRound">1</span> of <span id="maxRounds">3</span></span>
                </div>
                <div class="timer">
                    <span id="timeLeft">60</span>s
                </div>
                <div class="current-player">
                    <span id="currentPlayerName">Player</span> is describing
                </div>
            </div>
            
            <div class="word-display">
                <h1 id="currentWord">LOADING...</h1>
                <div id="wordImageContainer" class="word-image-container">
                    <img id="wordImage" class="word-image" src="" alt="" style="display: none;">
                </div>
                <p id="wordCategory"></p>
                <p id="playerRole"></p>
            </div>
            
            <div class="game-controls">
                <div id="describerControls" class="describer-controls hidden">
                    <button id="skipBtn" class="btn btn-warning">Skip Word</button>
                </div>
                <div id="guesserControls" class="guesser-controls hidden">
                    <input type="text" id="guessInput" placeholder="Type your guess here..." autocomplete="off">
                    <button id="submitGuessBtn" class="btn btn-primary">Submit Guess</button>
                </div>
            </div>
            
            <div class="scores">
                <h3>Team Score</h3>
                <div id="scoresDisplay"></div>
            </div>
            
            <div class="round-transition hidden" id="roundTransition">
                <h2>Round Complete!</h2>
                <div class="round-words-summary">
                    <h3>Words This Round:</h3>
                    <div id="roundWordsList"></div>
                </div>
                <p>Next round starting in <span id="nextRoundTimer">3</span>...</p>
            </div>
            
            <div class="transition-overlay hidden" id="transitionOverlay"></div>
        </div>

        <!-- Game Over Screen -->
        <div id="gameOverScreen" class="screen">
            <div class="game-header">
                <h1>üéâ Game Over!</h1>
            </div>
            
            <div class="final-scores">
                <h2>Team Performance</h2>
                <div id="finalScoresDisplay"></div>
                <div id="performanceDisplay"></div>
            </div>
            
            <div class="game-over-actions">
                <div class="language-selection">
                    <h3>Select Your Native Language:</h3>
                    <div class="language-buttons">
                        <button id="selectEnglishBtn" class="btn btn-secondary">English</button>
                        <button id="selectSpanishBtn" class="btn btn-secondary">Espa√±ol</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Translation Test Screen -->
        <div id="testScreen" class="screen">
            <div class="game-header">
                <h1>üìù Translation Test</h1>
                <p>Translate the words you saw during the game</p>
            </div>
            
            <div class="test-container">
                <div id="testQuestions"></div>
            </div>
            
            <div class="test-actions">
                <button id="submitTestBtn" class="btn btn-primary">Submit Answers</button>
            </div>
        </div>

        <!-- Test Complete Screen -->
        <div id="testCompleteScreen" class="screen">
            <div class="game-header">
                <h1>‚úÖ Test Complete!</h1>
                <p>Your answers have been recorded</p>
            </div>
            
            <div class="play-again-status">
                <h3 id="playAgainStatus">Click Play Again to start a new game</h3>
                <p id="playAgainInfo"></p>
            </div>
            
            <div class="test-complete-actions">
                <button id="playAgainAfterTestBtn" class="btn btn-primary">Play Again</button>
                <button id="homeAfterTestBtn" class="btn btn-secondary">Home</button>
            </div>
        </div>

        <!-- Error/Status Messages -->
        <div id="messageContainer" class="message-container"></div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>
</html>
